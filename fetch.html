<!DOCTYPE html>
<html lang='en'>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset='utf-8' />
    <link rel="icon"
        href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='44' height='44'%3E%3Crect x='0' y='0' rx='6' ry='6' width='44' height='44' style='fill:%233c3c3b' transform='rotate(0 14 20)'/%3E%3Cg transform='rotate(45 26 23)'%3E%3Crect x='4' y='15' rx='2' ry='2' width='4' height='20' style='fill:%2325a843' /%3E%3Crect x='12' y='7.5' rx='2' ry='2' width='4' height='35' style='fill:%23ffd103'/%3E%3Crect x='20' y='0' rx='2' ry='2' width='4' height='50' style='fill:%23f28d22' /%3E%3Crect x='28' y='7.5' rx='2' ry='2' width='4' height='35' style='fill:%23e9493e'/%3E%3Ccircle cx='41' cy='25' r='5' fill='white' /%3E%3C/g%3E%3C/svg%3E"
        type="image/svg+xml">
    <title id="unitT"></title>
</head>
<STYLE>
#dateV,#unitId{position:fixed}#allList>div>:not(.bigNum),.bigNumWrap{box-shadow:0 0 10px 1px rgb(0 0 0 / 15%)}#bigNumber,#sensorList,#sliderList{display:grid}.bigNumWrap,.npSl{border-radius:5px}#dateV,.slTS{pointer-events:none}.npSl,.slTS,.slider{-webkit-appearance:none}#allList,#container,#unitId,.bigNum,.bigNumWrap,.sensorset,.slTimeSet,.valWrap{display:flex}*,body{margin:0}#sysInfo,.npSl,.sensorset,.slTimeSetWrap{overflow:hidden}#closeBtn2,#openSys{left:20px}*{box-sizing:border-box;font-family:sans-serif;font-size:12pt;padding:0}body{user-select:none;-webkit-user-select:none;background:#e8e8e8;color:#4e4a4a}#dateV{opacity:0;top:10px;writing-mode:vertical-lr}#openSys:hover #dateV{opacity:1}#container{position:absolute;height:100vh;width:100vw;justify-content:center}#inputChannel{overflow:auto;text-align:center;height:0;transition:.5s;-ms-overflow-style:none;scrollbar-width:none}#inputChannel::-webkit-scrollbar{display:none}#unitId{top:2%;z-index:1}#allList{transform:translate3d(0,0,0);grid-row-gap:1vh;margin:auto;padding:40px 5px;transition:.8s ease-out;flex-direction:column;color:#fff}.allExtra{grid-row-gap:.5vh!important}#bigNumber,#sensorList,#sliderList,.bigNum{grid-column-gap:1vh;grid-row-gap:1vh;transition:.8s ease-out}.bigNum{grid-template-columns:auto auto auto auto;width:-webkit-fill-available;justify-content:start}.bigNumOne{justify-content:center!important;grid-template-columns:auto!important;width:unset!important}.bigNumWrap{justify-items:stretch;cursor:default;padding:4.2px;width:150px;height:75px;flex-direction:column;background:#837c7c;flex-wrap:nowrap;justify-content:space-between}#addBtn,#menueList,.sensorset,.sideNbtn,button{cursor:pointer}.bigC{background:#009c63}#sensorList{justify-content:center}.sensorL4{grid-template-columns:auto auto auto auto}.sensorL3{grid-template-columns:auto auto auto}.sensorL2{grid-template-columns:auto auto}.sensorL1{grid-template-columns:auto!important}#sliderList{min-width:288px}#sliderList .sensorset{width:inherit;height:40px;background:#837c7c}#sensorList .sensorset{min-height:60px}.clickables:active,.push:active,button:active{transform:scale(.95);-webkit-transform:scale(.95);transition:.1s}.npSl,.slider{position:absolute;height:inherit}.slider{mix-blend-mode:color;background:#847d7d;width:calc(100% + 44.2px);left:-24.2px}.npSl{width:100%;left:-.2px;position:inherit;height:40px}.sliderAmount{margin-top:-4px}.slider::-webkit-slider-thumb{-webkit-appearance:none;width:0;height:50px;cursor:pointer;box-shadow:-100vw 0 0 100vw #458fd1;border-left:20px solid #458fd1;border-right:20px solid #837c7c}.slider::-moz-range-thumb{width:0;height:70px;cursor:pointer;box-shadow:-100vw 0 0 100vw #458fd1;border-left:20px solid #458fd1;border-right:20px solid #837c7c}.npSl::-webkit-slider-thumb{-webkit-appearance:none;width:20px;height:42px;cursor:pointer;box-shadow:0 0 2px 0 #fff;background:#3e88cb}.npSl::-moz-range-thumb{width:20px;height:42px;cursor:pointer;box-shadow:0 0 2px 0 #fff;background:#3e88cb;border:0}.sensorset,.slTS,.slTimeSetWrap,.valWrap{border-radius:5px}.npH{background-image:linear-gradient(to right,red,#ff0,#0f0,#0ff,#00f,#ff00ff,red)}.npV{background-image:linear-gradient(to right,#333,#fff)}.npS{background-image:linear-gradient(to right,#fff,#333)}.slTS{position:absolute;height:40px;z-index:1;width:100%;top:0;mix-blend-mode:overlay;background-color:#8a8787}.slTS:hover{background-color:transparent}.slTS:first-child::-webkit-slider-thumb{border-left:10px solid #d25e42;border-right:10px solid #458fd1}.slTS:nth-child(2)::-webkit-slider-thumb{border-left:10px solid #458fd1;border-right:10px solid #d25e42}.slTS:first-child::-moz-range-thumb{border-left:10px solid #d25e42;border-right:10px solid #458fd1}.slTS:nth-child(2)::-moz-range-thumb{border-left:10px solid #458fd1;border-right:10px solid #d25e42}.slTS::-webkit-slider-thumb{-webkit-appearance:none;width:0;height:40px;cursor:pointer;appearance:none;pointer-events:all}.slTS::-moz-range-thumb{width:0;height:100vh;cursor:pointer;appearance:none;pointer-events:all}.slTimeSet{align-items:center;justify-content:center}.slTimeSetWrap{height:40px;padding:4.2px;position:relative;background:#736f6f}.slTimeText{position:absolute;right:4.2px;bottom:2.2px;font-weight:400}.sensorset:not(.btnTile){background-color:#847d7d}.sensorset{justify-items:stretch;flex-direction:column;padding:4.2px;flex-wrap:nowrap;width:150px;position:relative;align-items:stretch}.sensors,.values,.valuesBig{overflow-wrap:anywhere}.valueBig{font-size:27pt;text-align:right}.cron,.vInputs,.valWrap{text-align:end}.valWrap{background:#ffffff28;align-items:center;justify-content:flex-end;width:100%}.vInputs{height:30px;width:84%;border:0;background:0 0;color:inherit}#sysInfo,.cInputs{border-radius:5px}.vInputs:focus-visible{width:inherit}.vInputs:focus::placeholder{opacity:.2}input::-webkit-inner-spin-button,input::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number]{-moz-appearance:textfield}.kindInput{padding:0 2px 0 1px}.on,.push:active{background:#3e88cb!important}.alert{background:#d8524f!important}.btnTile{background:#635d5d}.sensors{padding-bottom:2%}.values{display:grid;grid-template-columns:auto auto;justify-content:space-between;grid-column-gap:5px;align-items:end}.cron{padding-bottom:1pt}.vInputs::placeholder{opacity:1;color:#fff}#opener{bottom:0;z-index:2;width:100%;position:fixed}.open{background:0 0;display:flex;max-width:200px;align-items:center;margin:auto;padding-bottom:2vh;justify-content:space-between}#framie{right:-280px}.sidenav{left:-280px}#framie,.sidenav{height:100%;width:280px;position:fixed;z-index:20;top:0;background-color:#111111d9;transition:.6s;overflow-y:hidden;display:flex;flex-direction:column;align-items:center;justify-content:center;color:#fff}.menueItem{display:grid;justify-content:start;grid-template-columns:25px auto}.numberUnit{font-size:10px;color:#818181}#menueList div:hover{color:#444}.nc{word-break:break-all}.sideNbtn{position:absolute;bottom:2%;font-size:35px;color:#b3b3b3}#openSys{width:40px}#closeBtn{right:20px}#menueList{overflow:scroll;-ms-overflow-style:none;scrollbar-width:none;transition:.2s;width:max-content;max-width:280px}#sysInfo,.buttonUnit{width:200px;display:flex}#menueList::-webkit-scrollbar{display:none}#menueList div{padding:3px;font-size:25px}#sysInfo{background:#ffffff17;color:#fff;transition:.5s;height:0;position:absolute;top:5px;flex-direction:column;justify-content:space-evenly}.syspair{display:flex;justify-content:flex-start}.syspair>div{font-size:8pt!important}.syspair div:first-child{text-align:end;width:35%;padding-right:5px}.menueWrap{transition:.5s;height:185px;flex-shrink:999}.buttonUnit{flex-direction:column;align-items:center}.channelItem{display:flex;flex-direction:row}#channelList{overflow:auto}.bar1,.bar2{width:20px;height:3px;background-color:#b3b3b3;margin:8px 0;transition:.4s}.bar2{transform:translate(0,-11px) rotate(90deg)}.change .bar1{transform:translate(0,0) rotate(-45deg)}.change .bar2{transform:translate(0,-11px) rotate(45deg)}#addBtn{padding:15px}.cInputs{height:30px;padding:5px;border:0;margin:5px;width:-webkit-fill-available}button{border:0;border-radius:5px;color:#000;margin:5px;padding:5px 15px}.chanBtnSelectRed,button.remove{background:brown;color:#fff}.chanBtnSelect{background:#3e88cb;color:#fff}.channelName{font-size:10px;color:#adadad}.noChan{padding:5px;border-radius:5px;color:gray;text-align:center;white-space:pre-wrap;box-shadow:none!important}@media screen and (max-height:450px){#framie{padding-bottom:40px}#opener{height:40px}}@media screen and (max-width:450px){#allList,#bigNumber{grid-row-gap:5px}#allList{min-width:unset}#opener{height:40px}#framie{padding-bottom:40px}.allExtra{grid-row-gap:2.5px!important}.bigSpan:first-child{grid-row:1/span 2;height:100%}#sliderList{grid-column-gap:1vh;grid-row-gap:5px}#sensorList,.bigNum{grid-template-columns:auto auto;grid-column-gap:5px;grid-row-gap:5px}.bigNum{display:grid;width:50%}.sensors{padding-bottom:2%}}@media (prefers-color-scheme:dark){.slTS,.slider{mix-blend-mode:lighten}body{background-color:#000;color:#b3b3b3}#allList,input::placeholder{color:#b3b3b3}.slTimeSetWrap,iframe{background:#000}#opener{background:#000000a8}.bigNumWrap{background:#444}.bigC{background:#553630}.slTS{background-color:#444!important}.slTS:first-child::-webkit-slider-thumb{border-left:10px solid #6d1343;border-right:10px solid #44607a}.slTS:nth-child(2)::-webkit-slider-thumb{border-left:10px solid #44607a;border-right:10px solid #6d1343}.slTS:first-child::-moz-range-thumb{border-left:10px solid #6d1343;border-right:10px solid #44607a}.slTS:nth-child(2)::-moz-range-thumb{border-left:10px solid #44607a;border-right:10px solid #6d1343}.slider{background:#444}.slider::-webkit-slider-thumb{box-shadow:-100vw 0 0 100vw #44607a;border-left:20px solid #44607a;border-right:20px solid #444}.slider::-moz-range-thumb{box-shadow:-100vw 0 0 100vw #44607a;border-left:20px solid #44607a;border-right:20px solid #444}.npSl::-webkit-slider-thumb{box-shadow:0 0 4px 3px grey;background:#44607a}.npSl::-moz-range-thumb{box-shadow:0 0 4px 3px grey;background:#44607a}.npH,.npS,.npV{background-color:#9b9b9b;background-blend-mode:multiply}.on,.push:active{background:#44607a!important}.alert{background:#553044!important}.valueBig{background:0 0}.btnTile{background:#333}#sliderList .sensorset,.sensorset:not(.btnTile){background-color:#444}}
</STYLE>

<body onload="fetchNtfy()">
    <script>
      var wasUsed,whichSl,slA,jsonPath,nNr,nP,nP2,nN,unitNr,unitNr1,nIV,iIV,navOpen,myParam,currVal,html,manNav,gesVal,ntfyJson,selectVal,myJson,nodeUpdate,responseStatus,html5,eventSource,readyIV,tryconnectIV,redSelection,userAgent=window.navigator.userAgent,firstRun=1,bigLength=0,isOpen=0,hasParams=1,dataT=[],dataT2=[],isittime=1,NrofSlides=0,tsX=0,teX=0,tsY=0,teY=0,msTs=0,msTe=0,cooK=document.cookie,sndTo="control?cmd=SendTo,",tvSet="control?cmd=taskvalueset,",evnT="control?cmd=event,",ntfyChannel="",responseTime=0,responseTime2=0,isSSE=!1,selectedChan=!1,invisible=!1;function addChan(){0===document.getElementById("inputChannel").offsetHeight?(document.getElementById("inputChannel").style.height="160px",document.getElementById("addBtn").classList.add("change"),enterOnInputs()):closeAddChan()}function closeAddChan(){document.getElementById("inputChannel").style.height="0",document.getElementById("addBtn").classList.remove("change"),document.getElementById("channelNa").value="",document.getElementById("channelNr").value=""}function submitChan(){chanName=document.getElementById("channelNa").value,chanNumber=document.getElementById("channelNr").value,(chanServer=document.getElementById("channelSrv").value)||(chanServer="ntfy.envs.net"),chanName&&chanNumber&&(document.cookie="ntfy_"+chanName+"="+chanServer+"/"+chanNumber+"; expires=Fri, 31 Dec 9999 23:59:59 GMT;",document.getElementById("inputChannel").style.height="0"),generateChan(),closeAddChan()}function generateChan(){selectedChan=!1,cookieObj=str_obj(document.cookie),html5="",Object.entries(cookieObj).forEach(e=>{let[t,n]=e;"*selectedChannel"==t&&(selectVal=n)}),Object.entries(cookieObj).forEach(e=>{let[t,n]=e;t.includes("ntfy_")&&(newkey=t.split("_")[1],selectVal&&n==selectVal?(btnselect=redSelection?"chanBtnSelectRed":"chanBtnSelect",selectedChan=!0):btnselect="",html5+='<div class="channelItem"><button class="buttonUnit '+btnselect+'" style="text-align: center;" onclick="setChannel(this);"><div class="chanName" id="'+newkey+'">'+newkey+'</div><div class="channelName">'+n+'</div></button><button class="remove" onclick="delChan(\''+t+"','"+n+"')\">-</button></div>")}),html5?(document.getElementById("channelList").innerHTML=html5,document.cookie.includes("*selectedChannel")&&selectedChan||(clearHtml(),document.getElementById("sensorList").innerHTML='<pre class="noChan">Please select a channel.<pre>',selectedChan||(clearTimeout(readyIV),clearTimeout(tryconnectIV),document.cookie="*selectedChannel=;expires=Thu, 01 Jan 1970 00:00:01 GMT",console.log("stopping sse..."),eventSource?.close()))):(clearTimeout(tryconnectIV),clearTimeout(readyIV),clearHtml(),document.getElementById("channelList").innerHTML="no channels added...",document.getElementById("sensorList").innerHTML='<pre class="noChan">Add a channel...\n(Click on the house symbol.)<pre>'),longPressB()}function str_obj(e){e=e.split("; ");for(var t={},n=0;n<e.length;n++){var s=e[n].split("=");t[s[0]]=s[1]}return t}function setChannel(e){document.getElementById("sensorList").innerHTML='<pre class="noChan">trying to connect...<pre>',ntfyChannel=e.children[1].textContent,document.cookie="*selectedChannel="+ntfyChannel+"; expires=Fri, 31 Dec 9999 23:59:59 GMT;",(chanBtns=document.querySelectorAll(".buttonUnit")).forEach(e=>{e.classList.remove("chanBtnSelect")}),e.classList.add("chanBtnSelect"),openChanSelection(),fetchNtfy()}function delChan(e,t){console.log(e,t),get_cookie(e)&&(document.cookie=e+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT"),t==selectVal&&(document.cookie="*selectedChannel=;expires=Thu, 01 Jan 1970 00:00:01 GMT"),generateChan()}function get_cookie(e){return document.cookie.split(";").some(t=>t.trim().startsWith(e+"="))}function enterOnInputs(){document.getElementById("channelNr").addEventListener("keypress",function(e){"Enter"===e.key&&(e.preventDefault(),submitChan())}),document.getElementById("channelSrv").addEventListener("keypress",function(e){"Enter"===e.key&&(e.preventDefault(),submitChan())})}async function fetchNtfy(){responseTime2=Date.now(),document.cookie.includes("*selectedChannel")&&document.cookie.includes("ntfy_")&&(clearHtml(),document.getElementById("sensorList").innerHTML='<pre class="noChan">trying to connect...<pre>',tryconnectIV=setInterval(connectionIssues,1e4)),Object.entries(cookieObj=str_obj(document.cookie)).forEach(e=>{let[t,n]=e;"*selectedChannel"==t&&(ntfyChannel=n)}),console.log(ntfyChannel),clearTimeout(readyIV),ntfyChannel&&(sendReady(1),readyIV=setInterval(sendReady,6e4),isSSE?(console.log("restarting sse..."),eventSource.close()):console.log("starting sse..."),eventSource=new EventSource("https://"+ntfyChannel+"_json/sse"),isSSE=!0,eventSource.onmessage=e=>{(dataNtfy=JSON.parse(e.data))?"killed"==dataNtfy.message?alert(newkey+" has been set to read only. Please reset device for full functionality"):("readonly"==dataNtfy.title?(redSelection=1,generateChan()):"msglimit"==dataNtfy.title&&alert("You reached the limit of json updates, please wait a moment (https://docs.ntfy.sh/publish/#limitations)"),redSelection=0,fetchJson(ntfyJson=dataNtfy.message),responseTime2=Date.now(),console.log("received valid json data..."),clearTimeout(tryconnectIV)):console.log("no json data received")}),generateChan(),longPressS()}async function sendReady(e){invisible||(console.log("ready"),e?getUrl("","send1"):getUrl("","send"))}function fetchJson(e){null==(myParam=(urlParams=new URLSearchParams(window.location.search)).get("unit"))&&(hasParams=0),someoneEn=0,jsonPath||(jsonPath=e),myJson=JSON.parse(e),isittime=1;{console.log(myJson),document.getElementById("allList").style.filter="blur(0)",html="",html2="",html3="",dataT=[];let t=-1;unit=myJson.WiFi.Hostname,unitNr=myJson.System["Unit Number"],syshtml=(htSys='<div class="syspair"><div>')+"Sysinfo</div><div>"+unit+"</div></div>"+htSys+"Local Time:</div><div>"+(sysInfo=myJson.System)["Local Time"]+"</div></div>"+htSys+"Uptime:</div><div>"+minutesToDhm(sysInfo.Uptime)+"</div></div>"+htSys+"Load:</div><div>"+sysInfo.Load+"%</div></div>"+htSys+"Free Ram:</div><div>"+sysInfo["Free RAM"]+"</div></div>"+htSys+"Free Stack:</div><div>"+sysInfo["Free Stack"]+"</div></div>"+htSys+"IP Address:</div><div>"+myJson.WiFi["IP Address"]+"</div></div>"+htSys+"RSSI:</div><div>"+myJson.WiFi.RSSI+" dBm</div></div>"+htSys+"Build:</div><div>"+sysInfo.Build+"</div></div>"+htSys+"Eco Mode:</div><div>"+("true"==sysInfo["CPU Eco Mode"]?"on":"off")+"</div></div>",(clockBig=(clockBig=(jsonT=myJson.System["Local Time"]).split(" ")[1]).split(":")).pop(),clockBig=clockBig.join(":"),dateD=(dateBig=jsonT.split(" ")[0]).split("-")[2],dateM=dateBig.split("-")[1],dateY=dateBig.split("-")[0],myJson.Sensors.length?(myJson.Sensors.forEach(e=>{utton=e.TaskName,htS1=' sensorset clickables" onmouseup="setTimeout(blurInput.bind(null, \'1\',), 100);" onclick="playSound(3000), ',htS2='<div  class="sensors" style="font-weight:bold;">'+utton+"</div>",exC=!![38].indexOf(e.TaskDeviceNumber),exC2=!e.Type?.includes("Display"),"true"===(taskEnabled=e.TaskEnabled.toString())&&e.TaskValues&&!utton.includes("XX")&&exC&&exC2&&!hasParams?(someoneEn=1,firstItem=!0,e.TaskValues.forEach(n=>{if(wasUsed=!1,n.Name.toString().includes("XX")&&(wasUsed=!0),"nan"==n.Value&&(n.Value=0,n.NrDecimals=0),num2Value="number"==typeof n.Value?n.Value.toFixed(n.NrDecimals):n.Value,itemN=(iN=n.Name.toString()).split("?")[0],(kindN=iN.split("?")[1])||(kindN=""),"H"==kindN&&(kindN="%"),slMax=1023,slMin=0,slStep=1,whichSl=0,(iN.match(/\&/g)||[]).length>=2?(t++,itemTSName=0===dataT2.length?0:dataT2[t],isTspeak=!0,itemN=iN.split("&")[0],chanN=iN.split("&")[1],(fieldN=iN.split("&")[2]).includes("?")&&(fieldN=fieldN.split("?")[0]),dataT.push([chanN,fieldN,n.NrDecimals,t])):isTspeak=!1,1==e.TaskDeviceNumber&&(wasUsed=!0,bS="btnStateC"===iN&&n.Value<2||1===n.Value?"on":2===n.Value?"alert":"",e.TaskDeviceGPIO1&&iN.includes("State")?("iState"===iN&&(n.Value=1==n.Value?0:1),html+='<div class="btnTile '+bS+htS1+"buttonClick('"+(utton=utton+"?"+e.TaskDeviceGPIO1)+"', '"+n.Value+"')\">"+htS2):e.TaskDeviceGPIO1&&"ledState"===iN?(html2+='<div class="sensorset"><input type="range" min="'+slMin+'" max="'+slMax+'"  step="'+slStep+'" value="'+num2Value+'" id="'+utton+'"class="slider '+e.TaskNumber+","+n.ValueNumber,html2+=' noVal"><div  class="sensors" style="align-items: flex-end;"><div style="font-weight:bold;">'+utton+"</div></div></div>"):itemN.includes("btnState")?("ibtnState"===itemN&&(n.Value=1==n.Value?0:1),kindN&&(utton=utton+"?"+kindN),html+='<div class="btnTile '+bS+htS1+"buttonClick('"+utton+"', '"+n.Value+"')\">"+htS2):wasUsed=!1),33==e.TaskDeviceNumber&&!["noVal","XX"].some(e=>iN.includes(e))){if(wasUsed=!0,bS="C"===kindN&&n.Value<2||1===n.Value?"on":2===n.Value?"alert":"",utton.includes("dButtons"))n.Value>-1&&(itemNB=itemN.split("&")[0],"A"==itemN.split("&")[1]?html+='<div class="btnTile '+bS+htS1+"getNodes('"+itemNB+'\')"><div  class="sensors nodes" style="font-weight:bold;">'+itemNB+"</div></div>":html+='<div class="btnTile '+bS+htS1+"buttonClick('"+itemN+'\')"><div id="'+itemN+'" class="sensors" style="font-weight:bold;">'+itemNB+"</div></div>");else if(utton.includes("pButtons"))n.Value>-1&&(itemNB=itemN.split("&")[0],html+='<div class="'+bS+' btnTile push sensorset" onpointerdown="playSound(3000), pushClick(\''+itemN+"',1)\" onpointerup=\"pushClick('"+itemN+'\',0)"><div id="'+itemN+'" class="sensors" style="font-weight:bold;">'+itemNB+"</div></div>");else if(utton.includes("vInput"))itemN||(itemN="&nbsp;"),html+='<div class="sensorset clickables"><div class="sensors" style="font-weight:bold" onclick="getInput(this.nextElementSibling.firstChild)">'+itemN+'</div><div class="valWrap btnTile"><input type="number" class="vInputs '+e.TaskNumber+","+n.ValueNumber+'" id="'+itemN+'"name="'+utton+'" placeholder="'+num2Value+'" onkeydown="getInput(this)" onclick="getInput(this,1)"> <div class="kindInput">'+kindN+"</div></div></div>";else if(utton.includes("vSlider"))slName=iN,slKind="",(iN.match(/\?/g)||[]).length>=3&&(slName=iN.split("?")[0],slMin=iN.split("?")[1],slMax=iN.split("?")[2],slStep=iN.split("?")[3],slKind=iN.split("?")[4]),slKind||(slKind=""),"H"==slKind&&(slKind="%"),html2+='<div class="sensorset"><input type="range" min="'+slMin+'" max="'+slMax+'"  step="'+slStep+'" value="'+num2Value+'" id="'+iN+'"class="slider sL '+e.TaskNumber+","+n.ValueNumber,utton.includes("nvSlider")?html2+=' noVal"><div  class="sensors" style="align-items: flex-end;"><div style="font-weight:bold;">'+slName+"</div></div></div>":html2+='"><div  class="sensors" style="align-items: flex-end;"><div style="font-weight:bold;">'+slName+'</div><div class="sliderAmount" style="text-align: right;">'+num2Value+slKind+"</div></div></div>";else if(utton.includes("tSlider")){slT2=((slT1=n.Value.toFixed(4))+"").split(".")[1],hour1=Math.floor((slT1=Math.floor(slT1))/60),minute1=slT1%60;let s=minute1.toString().padStart(2,"0");hour2=Math.floor(slT2/60),minute2=slT2%60;let i=minute2.toString().padStart(2,"0");htmlSlider1='<input class="slTS" type="range" min="0" max="1440" step="5" value="',html2+='<div id="'+iN+'" class="slTimeSetWrap '+utton+" "+e.TaskNumber+","+n.ValueNumber+'" style="font-weight:bold;">'+iN+'<div class="slTimeText"> <span class="hAmount1">'+hour1+'</span><span>:</span><span class="mAmount1">'+s+'</span><span>-</span><span class="hAmount2">'+hour2+'</span><span>:</span><span class="mAmount2">'+i+'</span></div><div class="slTimeSet">'+htmlSlider1+slT1+'" id="'+iN+'L">'+htmlSlider1+slT2+'" id="'+iN+'R"></div></div>'}else if(utton.includes("neoPixel"))switch(html2+='<input type="range"max="',neo1='min="0" value="'+num2Value+'" id="'+utton,neo2='"class="sL npSl '+e.TaskNumber+","+n.ValueNumber,iN){case"h":html2+='359"'+neo1+"?H"+neo2+' npH noVal">';break;case"s":html2+='100"'+neo1+"?S"+neo2+' npS noVal">';break;case"v":html2+='100"'+neo1+"?V"+neo2+' npV noVal">'}else iN.includes("noValAuto")?window.innerWidth>=450&&(html+='<div class="sensorset"><div></div><div</div></div>'):iN.includes("noVal")?html+='<div class="sensorset"><div></div><div</div></div>':wasUsed=!1}if(utton.includes("bigVal")){let l='<div class="valuesBig" style="font-weight:bold;text-align:left;">';!0==firstItem&&(html3+='<div class="bigNum">',bigLength<e.TaskValues.length&&(bigLength=e.TaskValues.length)),iN.includes("XX")||(utton.includes("bigValC")?3!==e.TaskValues.length||e.TaskValues.some(e=>"XX"===iN)?html3+='<div class="bigNumWrap bigC">':html3+='<div class="bigNumWrap bigC bigSpan">':3!==e.TaskValues.length||e.TaskValues.some(e=>"XX"===iN)?html3+='<div class="bigNumWrap">':html3+='<div class="bigNumWrap bigSpan">',htS3=l+iN+'</div><div id="',["Clock","Uhr","Zeit","Time"].some(e=>iN.includes(e))?html3+=htS3+'clock" class="valueBig">'+clockBig+"</div></div>":iN.toLowerCase().includes("datum")?html3+=htS3+'date" class="valueBig">'+dateD+"."+dateM.toString()+"</div></div>":iN.toLowerCase().includes("date")?html3+=htS3+'date" class="valueBig">'+dateM+"-"+dateD.toString()+"</div></div>":["year","jahr"].some(e=>iN.toLowerCase().includes(e))?html3+=htS3+'year" class="valueBig">'+dateY+"</div></div>":iN.includes("noVal")?html3+=l+'</div><div class="valueBig"></span></div></div>':isTspeak?html3+=l+itemN+'</div><div id="'+itemN+'TS" class="valueBig">'+itemTSName+'<span style="background:none;padding-right: 1%;">'+kindN+"</span></div></div>":html3+=l+itemN+'</div><div class="valueBig">'+num2Value+'<span style="background:none;padding-right: 1%;">'+kindN+"</span></div></div>"),wasUsed=!0}wasUsed||(!0==firstItem&&(html+='<div class="'+htS1+"buttonClick('"+utton+"')\">"+htS2),isTspeak?html+='<div class="values thingspeak"><div>'+itemN+'</div><div id="'+itemN+'TS">'+itemTSName+kindN+"</div></div>":iN.includes("noVal")?html+='<div class="values therest"><div>&nbsp;</div><div></div></div>':81==e.TaskDeviceNumber?html+='<div class="cron"><div>'+itemN+'</div><div style="font-size: 10pt;">'+n.Value+"</div></div>":html+='<div class="values therest"><div>'+itemN+"</div><div>"+num2Value+kindN+"</div></div>"),firstItem=!1}),html+="</div>",html3+="</div>"):"true"===taskEnabled&&!utton.includes("XX")&&exC&&exC2&&!hasParams&&(html+='<div  class="sensorset clickables" onclick="buttonClick(\''+utton+'\')"><div class="sensors" style="font-weight:bold;">'+utton+"</div><div></div><div></div></div>",someoneEn=1,document.getElementById("sensorList").innerHTML=html)}),someoneEn||hasParams||(html+='<div class="sensorset clickables" onclick="splitOn(); topF()"> <div class="sensors" style="font-weight:bold;">no tasks enabled or visible...</div>')):html+='<div class="sensorset clickables"><div  class="sensors" style="font-weight:bold;">no tasks configured...</div>',document.getElementById("sysInfo").innerHTML=syshtml,document.getElementById("sensorList").innerHTML=html,document.getElementById("sliderList").innerHTML=html2,document.getElementById("bigNumber").innerHTML=html3,firstRun&&(userAgent.match(/iPhone/i)&&(document.body.style.height="101vh"),setInterval(getTS,1e4),getTS(),getNodes(),firstRun=0),unitNr1=myJson.System["Unit Number"],hasParams||(document.getElementById("unitId").innerHTML=unit+'<span class="numberUnit"> ('+myJson.WiFi.RSSI+")</span>",document.getElementById("unitT").innerHTML=unit),getNodes(),paramS(),changeCss(),resizeText(),longPressB(),longPressS(),event&&dataT.length&&(dataT2=[],getTS())}}async function getTS(){if(dataT)for(Array of dataT)myTS=await (responseTS=await fetch("https://api.thingspeak.com/channels/"+Array[0]+"/fields/"+Array[1]+"/last")).json(),responseTS.ok?dataT2[Array[3]]=myTS.toFixed(Array[2]):dataT2.push("error")}function changeCss(){document.querySelectorAll("input[type=range]").length?document.getElementById("allList").classList.remove("allExtra"):document.getElementById("allList").classList.add("allExtra");var e=document.querySelectorAll(".bigNum"),t=document.getElementsByClassName("bigNum").length;document.getElementsByClassName("valuesBig").length;var n=document.getElementById("sensorList"),s=n.getElementsByClassName("sensorset").length;if(1===bigLength||!t&&s<2){if(n.classList.add("sensorL1"),n.classList.remove("sensorL2","sensorL3","sensorL4"),e.length)for(var i=0;i<e.length;++i)e[i].classList.add("bigNumOne");coloumnSet=1}else 2===bigLength||!t&&s<5&&s>1?(n.classList.remove("sensorL1","sensorL3","sensorL4"),n.classList.add("sensorL2"),coloumnSet=2):3===bigLength||!t&&s<10&&s>4?(n.classList.remove("sensorL1","sensorL2","sensorL4"),n.classList.add("sensorL3"),coloumnSet=3):4===bigLength||!t&&s>9?(n.classList.remove("sensorL1","sensorL2","sensorL3"),n.classList.add("sensorL4"),coloumnSet=4):(n.classList.remove("sensorL1","sensorL3","sensorL4"),n.classList.add("sensorL2"),coloumnSet=2);if(bigLength>1&&e.length)for(var i=0;i<e.length;++i)e[i].classList.remove("bigNumOne");if(window.innerWidth<450&&(coloumnSet=(1!==bigLength||t)&&(0!==bigLength||1!==s)?2:1),s%coloumnSet!=0){calcTile=coloumnSet-(s-coloumnSet*Math.floor(s/coloumnSet));for(let l=1;l<=calcTile;l++)html+='<div class="sensorset"><div></div><div</div></div>'}document.getElementById("sensorList").innerHTML=html,bigLength=0}function paramS(){var e=document.querySelectorAll(".slTS");e.forEach(e=>{e.addEventListener("input",updateSlTS),e.addEventListener("change",sliderChTS)});var e=document.querySelectorAll(".sL");e.forEach(e=>{e.addEventListener("input",updateSlider),e.addEventListener("change",sliderChange)}),document.addEventListener("touchstart",e=>{msTs=Date.now(),tsX=e.changedTouches[0].screenX,tsY=e.changedTouches[0].screenY}),document.addEventListener("touchend",e=>{msTe=Date.now(),teX=e.changedTouches[0].screenX,teY=e.changedTouches[0].screenY,checkDirection()}),document.addEventListener("mousemove",e=>{manNav||navOpen||!(e.clientX<10)||-280!==document.getElementById("mySidenav").offsetLeft||openNav()}),document.getElementById("mySidenav").addEventListener("mouseleave",e=>{manNav||closeNav()}),(neoS=document.querySelectorAll(".npS")).forEach(e=>{hVal=document.getElementById(e.id.split("?")[0]+"?H")?.value,(vVal=document.getElementById(e.id.split("?")[0]+"?V")?.value||20)<20&&(vVal=20),e.style.backgroundImage="linear-gradient(to right, hsl(0,0%,"+vVal+"%),hsl("+hVal+",100%,50%))"})}function checkDirection(){touchtime=msTe-msTs,touchDistX=teX-tsX,touchDistY=teY-tsY,teX<tsX&&navOpen&&Math.abs(touchDistX)>40&&30>Math.abs(touchDistY)&&touchtime<250&&closeNav(),teX>tsX&&!navOpen&&Math.abs(touchDistX)>40&&30>Math.abs(touchDistY)&&touchtime<250&&openNav()}function updateSlTS(e){isittime=0,nuM="L"==(slider=e.target).id.slice(-1)?1:2;let t=slider.parentElement.closest(".slTimeSetWrap").firstElementChild.querySelector(".hAmount"+nuM),n=slider.parentElement.closest(".slTimeSetWrap").firstElementChild.querySelector(".mAmount"+nuM);var s=Math.floor(slider.value/60),i=slider.value%60;let l=i.toString().padStart(2,"0");t.textContent=s,n.textContent=l}function updateSlider(e){if(NrofSlides++,isittime=0,currVal=(slider=e.target).attributes.value.nodeValue,slKind=slider.id.split("?")[4],!slider.className.includes("noVal")){let t=slider.closest("div.sensorset").querySelector(".sliderAmount");slKind||(slKind=""),"H"==slKind&&(slKind="%"),slA=Number(e.target.value).toFixed(void 0!==e.target.step.split(".")[1]&&e.target.step.split(".")[1].length)+slKind,t.textContent=slA}"npSl"==slider.classList[1]&&(hVal=document.getElementById((sliderId=slider.id.split("?")[0])+"?H")?.value,gesVal=[hVal,sVal=document.getElementById(sliderId+"?S")?.value,vVal=document.getElementById(sliderId+"?V")?.value],vVal=vVal??0,sVal&&hVal&&(vVal<20&&(vVal=20),(sGrad=document.getElementById(sliderId+"?S")).style.backgroundImage="linear-gradient(to right, hsl(0,0%,"+vVal+"%),hsl("+hVal+",100%,50%))"))}function sliderChTS(e){playSound(4e3),slider=e.target;let t=slider.parentNode.parentNode;if(slider.id==t.id+"L")var n=document.getElementById(t.id+"R");else var n=document.getElementById(t.id+"L");unitNr===unitNr1?slider.id==t.id+"L"?getUrl(tvSet+t.classList[2]+","+e.target.value+"."+n.value.toString().padStart(4,"0")+" "+evnT+t.classList[1]+"Event="+t.classList[2].split(",")[1],"dualcommand"):getUrl(tvSet+t.classList[2]+","+n.value+"."+e.target.value.toString().padStart(4,"0")+" "+evnT+t.classList[1]+"Event="+t.classList[2].split(",")[1],"dualcommand"):(slider.id==t.id+"L"?getUrl(sndTo+nNr+',"taskvalueset,'+t.classList[2]+","+e.target.value+"."+n.value.toString().padStart(4,"0")+'"'):getUrl(sndTo+nNr+',"taskvalueset,'+t.classList[2]+","+n.value+"."+e.target.value.toString().padStart(4,"0")+'"'),getUrl(sndTo+nNr+',"event,'+t.classList[1]+"Event="+t.classList[2].split(",")[1]+'"')),clearTimeout(iIV),iIV=setTimeout(blurInput,1e3)}function sliderChange(e){playSound(4e3),maxVal=(slider=e.target).attributes.max.nodeValue,minVal=slider.attributes.min.nodeValue,OnOff="",parseFloat(e.target.value).toFixed(void 0!==e.target.step.split(".")[1]&&e.target.step.split(".")[1].length),slA=e.target.value,1==NrofSlides&&"npSl"!=slider.classList[1]&&(slA>5*maxVal/6&&currVal!==maxVal&&(slA=maxVal,OnOff=",1",isittime=1,setTimeout(fetchJson,500)),slA<maxVal/6&&currVal!==minVal&&(slA=minVal,OnOff=",0",isittime=1,setTimeout(fetchJson,500))),sliderId=(slider.id.match(/\?/g)||[]).length>=3||"npSl"==slider.classList[1]?slider.id.split("?")[0]:slider.id,gesVal&&(gesVal=gesVal.filter(e=>e)),unitNr===unitNr1?"npSl"!=slider.classList[1]?getUrl(tvSet+slider.classList[2]+","+slA+" "+evnT+sliderId+"Event="+slA+OnOff,"dualcommand"):getUrl(tvSet+slider.classList[2]+","+slA+" "+evnT+sliderId+"Event="+gesVal,"dualcommand"):(getUrl(sndTo+nNr+',"taskvalueset,'+slider.classList[2]+","+slA+'"'),"npSl"!=slider.classList[1]?getUrl(sndTo+nNr+',"event,'+sliderId+"Event="+slA+OnOff+'"'):getUrl(sndTo+nNr+',"event,'+sliderId+"Event="+gesVal+'"')),clearTimeout(iIV),iIV=setTimeout(blurInput,1e3),NrofSlides=0}function buttonClick(e,t){isittime&&(e.split("&")[1]?(utton2=e.split("&")[0],getUrl(sndTo+(nNr2=e.split("&")[1])+',"event,'+utton2+'Event"')):e.split("?")[1]?(gpioNr=e.split("?")[1],gS=1==t?0:1,unitNr===unitNr1?getUrl("control?cmd=gpio,"+gpioNr+","+gS):getUrl(sndTo+nNr+',"gpio,'+gpioNr+","+gS+'"')):unitNr===unitNr1?getUrl(evnT+e+"Event"):getUrl(sndTo+nNr+',"event,'+e+'Event"'))}function pushClick(e,t){0==t?(isittime=1,playSound(1e3)):isittime=0,e.split("&")[1]?(utton2=e.split("&")[0],getUrl(sndTo+(nNr2=e.split("&")[1])+',"event,'+utton2+"Event="+t+'"')):unitNr===unitNr1?getUrl(evnT+e+"Event="+t):getUrl(sndTo+nNr+',"event,'+e+"Event=,"+t+'"')}function getInput(e,t){"click"===event.type&&(isittime=0,iIV=setTimeout(blurInput,8e3),e.addEventListener("blur",e=>{clearTimeout(iIV),isittime=1})),e.value.length>12&&(e.value=e.value.slice(0,12)),"Enter"!==event.key&&("click"!==event.type||t)?"Escape"===event.key?document.getElementById(e.id).value="":(clearTimeout(iIV),iIV=setTimeout(blurInput,5e3)):(isittime=1,e.value?(playSound(4e3),unitNr===unitNr1?getUrl(tvSet+e.classList[1]+","+e.value):getUrl(sndTo+nNr+',"taskvalueset,'+e.classList[1]+","+e.value+'"'),buttonClick(e.id)):setTimeout(fetchJson,400),clearTimeout(iIV))}function blurInput(e){isittime=1,e&&(clearTimeout(nodeUpdate),nodeUpdate=setTimeout(getUrl.bind(null,"","update"),800))}function openNav(e){navOpen=1,e&&(manNav=1),-280===document.getElementById("mySidenav").offsetLeft?document.getElementById("mySidenav").style.left="0":closeNav()}function closeNav(){manNav=0,navOpen=0,clearInterval(nIV),document.getElementById("mySidenav").style.left="-280px"}function openSys(){0===document.getElementById("sysInfo").offsetHeight?(document.getElementById("menueWrap1").style.flexShrink="0",document.getElementById("sysInfo").style.height="180px"):(document.getElementById("sysInfo").style.height="0",document.getElementById("menueWrap1").style.flexShrink="999")}function getNodes(e,t,n){let s="";nInf=myJson.nodes;let i=-1;if(myJson.nodes.forEach(n=>{i++,n.nr==myParam&&hasParams&&(nodeChange(i),hasParams=0),s+='<div class="menueItem"><div class="serverUnit" style="text-align: center;">'+(styleN=n.nr===unitNr?"&#183;&#xFE0E;":"")+'</div><div id="'+n.name+'" class="nc" onclick="nodeChange('+i+');">'+n.name+'<span class="numberUnit">'+n.nr+"</span></div></div>",(e||t)&&(t?n.nr===unitNr1?fetch(evnT+e+"Long"):getUrl(sndTo+n.nr+',"event,'+e+'Long"'):isittime&&(n.nr===unitNr1?fetch(evnT+e+"Event"):getUrl(sndTo+n.nr+',"event,'+e+'Event"')))}),i=0,document.getElementById("menueList").innerHTML=s,hasParams){let l='<div class="sensorset clickables"><div  class="sensors" style="font-weight:bold;">can not find node # '+myParam+"...</div></div>";document.getElementById("sensorList").innerHTML=l,changeCss(),hasParams=0}}function nodeChange(e){(nInf=nInf[e])&&(nNr=nInf.nr,nN=nInf.name,console.log(nInf.ip),jsonPath=window[nInf.ip],window.history.replaceState(null,null,"?unit="+nNr),getUrl(nInf.ip,"change_node")),window.innerWidth<450&&0===document.getElementById("sysInfo").offsetHeight&&closeNav()}function resizeText(){let e=({clientWidth:e,clientHeight:t,scrollWidth:n,scrollHeight:s})=>n>e||s>t;(({element:t,elements:n,minSize:s=10,maxSize:i=115,step:l=1,unit:a="pt"})=>{(n||[t]).forEach(t=>{let n=s,r=!1,d=t.parentNode;for(;!r&&n<i;)t.style.fontSize=`${n}${a}`,(r=e(d))||(n+=l);t.style.fontSize=`${n-l}${a}`,t.style.lineHeight="0.75"})})({elements:document.querySelectorAll(".valueBig"),step:1})}function launchFs(e){e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()}function openChanSelection(){isOpen?(document.getElementById("framie").style.right="-280px",isOpen=0,closeAddChan()):(document.getElementById("framie").style.right="0",isOpen=1)}function topF(){document.body.scrollTop=0,document.documentElement.scrollTop=0}function longPressS(){document.getElementById("closeBtn").addEventListener("long-press",function(e){cooK.includes("Snd=1")?(playSound(500),document.cookie="Snd=0; expires=Fri, 31 Dec 9999 23:59:59 GMT; path=/;"):(playSound(900),document.cookie="Snd=1; expires=Fri, 31 Dec 9999 23:59:59 GMT; path=/;"),cooK=document.cookie})}function longPressB(){var e=!1;let t=document.querySelectorAll(".clickables"),n=document.querySelectorAll(".channelItem");n.forEach(e=>{e.addEventListener("long-press",function(e){getUrl("","kill")})}),t.forEach(t=>{t.addEventListener("long-press",function(n){let s=t.querySelector(".sensors"),i=t.querySelector(".nodes");i?getNodes(i.textContent,"1"):s.id.split("&")[1]?(utton2=s.id.split("&")[0],getUrl(sndTo+(nNr2=s.id.split("&")[1])+',"event,'+utton2+'Long"')):unitNr!==unitNr1||e?(getUrl(sndTo+nNr+',"event,'+s.textContent+'Long"'),e=!0):(getUrl(evnT+s.textContent+"Long"),e=!0),playSound(1e3),isittime=0})})}function minutesToDhm(e){var t=Math.floor(e/1440),n=Math.floor(e%1440/60),s=Math.floor(e%60);return(t>0?t+(1==t?" day ":" days "):"")+(n>0?n+(1==n?" hour ":" hours "):"")+(s>0?s+(1==s?" minute ":" minutes "):"")}function playSound(e){(cooK.includes("Snd=1")||e<1e3)&&(isittime||3e3!=e)&&(o=(c=new AudioContext).createOscillator(),g=c.createGain(),frequency=e,o.frequency.value=frequency,o.type="sawtooth",o.connect(g),g.connect(c.destination),g.gain.setValueAtTime(.05,0),o.start(0),g.gain.exponentialRampToValueAtTime(1e-5,c.currentTime+.01),o.stop(c.currentTime+.01))}async function getUrl(e,t){if(Date.now()-responseTime>1e4){t||(t="command");let n=new AbortController;setTimeout(()=>n.abort(),5e3);try{console.log("https://"+ntfyChannel+"?title="+t+"&message="+e),response=await fetch("https://"+ntfyChannel+"?title="+t+"&message="+e,{signal:n.signal,method:"POST",headers:{Cache:"no"}}),429==response.status&&(responseTime=Date.now(),alert("You reached the limit of commands, please wait a moment (https://docs.ntfy.sh/publish/#limitations)"))}catch(s){console.error(s),clearHtml(),document.getElementById("sensorList").innerHTML='<pre class="noChan">Connection error!\nDid you enter the correct server?\nIs your Server online and reachable?<pre>'}}}function connectionIssues(){Date.now()-responseTime2>8e4?(clearHtml(),document.getElementById("sensorList").innerHTML='<img src="https://legendofmi.com/images/animatedgifs/threeheaded.gif" style="box-shadow: none; image-rendering: pixelated" width="80" height="80" alt="Three-headed Monkey">'):Date.now()-responseTime2>7e4?(clearHtml(),document.getElementById("sensorList").innerHTML='<pre class="noChan">If you are still here reading this you should probably give up and enjoy a walk in the park.<pre>'):Date.now()-responseTime2>6e4?(clearHtml(),document.getElementById("sensorList").innerHTML='<pre class="noChan">Ok...enough of this!\nDevelopers for good software are hard to find these days.\nInsert disk #22 to start another program.<pre>'):Date.now()-responseTime2>5e4?(clearHtml(),document.getElementById("sensorList").innerHTML='<pre class="noChan">I was joking. :)<pre>'):Date.now()-responseTime2>4e4?(clearHtml(),document.getElementById("sensorList").innerHTML='<pre class="noChan">Look behind you!\nA three headed monkey!<pre>'):Date.now()-responseTime2>3e4?(clearHtml(),document.getElementById("sensorList").innerHTML='<pre class="noChan">...or a cup of grog...<pre>'):Date.now()-responseTime2>2e4?(clearHtml(),document.getElementById("sensorList").innerHTML='<pre class="noChan">...hmmmm...\nStill no word from easy2ntfy.\nMaybe you should go and get yourself a coffee...<pre>'):Date.now()-responseTime2>1e4&&(clearHtml(),document.getElementById("sensorList").innerHTML='<pre class="noChan">...still trying to connect...\nIs easy2ntfy actually running?<pre>')}function clearHtml(){document.getElementById("sensorList").innerHTML="",document.getElementById("sliderList").innerHTML="",document.getElementById("bigNumber").innerHTML=""}document.addEventListener("visibilitychange",()=>{"visible"===document.visibilityState?(invisible=!1,clearTimeout(readyIV),readyIV=setInterval(sendReady,6e4),sendReady()):(invisible=!0,getUrl("","stop"))}),function(e,t){"use strict";var n=null,s="PointerEvent"in e||e.navigator&&"msPointerEnabled"in e.navigator,i="ontouchstart"in e||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0,l=0,a=0;function r(e){var n;d(),e=void 0!==(n=e).changedTouches?n.changedTouches[0]:n,this.dispatchEvent(new CustomEvent("long-press",{bubbles:!0,cancelable:!0,detail:{clientX:e.clientX,clientY:e.clientY},clientX:e.clientX,clientY:e.clientY,offsetX:e.offsetX,offsetY:e.offsetY,pageX:e.pageX,pageY:e.pageY,screenX:e.screenX,screenY:e.screenY}))||t.addEventListener("click",function e(n){var s;t.removeEventListener("click",e,!0),(s=n).stopImmediatePropagation(),s.preventDefault(),s.stopPropagation()},!0)}function d(t){var s;(s=n)&&(e.cancelAnimationFrame?e.cancelAnimationFrame(s.value):e.webkitCancelAnimationFrame?e.webkitCancelAnimationFrame(s.value):e.webkitCancelRequestAnimationFrame?e.webkitCancelRequestAnimationFrame(s.value):e.mozCancelRequestAnimationFrame?e.mozCancelRequestAnimationFrame(s.value):e.oCancelRequestAnimationFrame?e.oCancelRequestAnimationFrame(s.value):e.msCancelRequestAnimationFrame?e.msCancelRequestAnimationFrame(s.value):clearTimeout(s)),n=null}"function"!=typeof e.CustomEvent&&(e.CustomEvent=function(e,n){n=n||{bubbles:!1,cancelable:!1,detail:void 0};var s=t.createEvent("CustomEvent");return s.initCustomEvent(e,n.bubbles,n.cancelable,n.detail),s},e.CustomEvent.prototype=e.Event.prototype),e.requestAnimFrame=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(t){e.setTimeout(t,1e3/60)},t.addEventListener(s?"pointerup":i?"touchend":"mouseup",d,!0),t.addEventListener(s?"pointermove":i?"touchmove":"mousemove",function e(t){var n=Math.abs(l-t.clientX),s=Math.abs(a-t.clientY);(n>=10||s>=10)&&d(t)},!0),t.addEventListener("wheel",d,!0),t.addEventListener("scroll",d,!0),t.addEventListener(s?"pointerdown":i?"touchstart":"mousedown",function s(i){var u,m,v;l=i.clientX,a=i.clientY,d(u=i),v=parseInt(function e(n,s,i){for(;n&&n!==t.documentElement;){var l=n.getAttribute(s);if(l)return l;n=n.parentNode}return"600"}(m=u.target,"data-long-press-delay","600"),10),n=function t(n,s){if(!e.requestAnimationFrame&&!e.webkitRequestAnimationFrame&&!(e.mozRequestAnimationFrame&&e.mozCancelRequestAnimationFrame)&&!e.oRequestAnimationFrame&&!e.msRequestAnimationFrame)return e.setTimeout(n,s);var i=new Date().getTime(),l={},a=function(){new Date().getTime()-i>=s?n.call():l.value=requestAnimFrame(a)};return l.value=requestAnimFrame(a),l}(r.bind(m,u),v)},!0)}(window,document);
    </script>

<div id="container">
    <div id="framie">
        <div id="channelList"></div>
        <div id="addBtn" onclick="addChan(this)">
            <div class="bars bar1"></div>
            <div class="bars bar2"></div>
        </div>
        <div id="inputChannel" style="height:0">
            <input type="text" id="channelNa" class="cInputs" name="channelNa" placeholder="Name"><br>
            <input type="text" id="channelNr" class="cInputs" name="channelNr" placeholder="Channel" onkeydown="return /[\w_-]/i.test(event.key)"><br>
            <input type="text" id="channelSrv" class="cInputs" name="channelNa" placeholder="Server (ntfy.sh)"><br>
            <button onclick="submitChan()">Submit</button>
        </div>
        <div class="sideNbtn" id="closeBtn2" onclick="openChanSelection()">&times;&#xFE0E;</div>
    </div>
    <div id="mySidenav" class="sidenav">
        <div id="sysInfo">no info found...</div>
        <div class="menueWrap" id="menueWrap1"></div>
        <div id="menueList"></div>
        <div class="menueWrap" id="menueWrap2"></div>
        <div class="sideNbtn" id="openSys" onclick="openSys(event)">
            <div id="dateV">e2n_20230307/a3</div>&#8505;&#xFE0E;
        </div>
        <div class="sideNbtn" id="closeBtn" onclick="closeNav()">&times;&#xFE0E;</div>
    </div>
    <div id="unitId" style="cursor: pointer;" onclick="launchFs(document.documentElement)">&nbsp;</div>
    <div id="allList">
        <div id="bigNumber"></div>
        <div id="sliderList"></div>
        <div id="sensorList"></div>
    </div>
    <div id="opener">
        <div class="open">
            <span id="nOpen" style="font-size:30px;cursor:pointer;background:none;"
                onclick="openNav(event)">&#9776;&#xFE0E;</span>
            <span id="mOpen" style="font-size:30px;cursor:pointer;background:none;"
                onclick="openChanSelection();generateChan()">&#8962;&#xFE0E;</span>
        </div>
    </div>
</div>
</body>

</html>