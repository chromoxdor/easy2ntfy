<!DOCTYPE html>
<html lang='en' manifest="easy2ntfy.appcache">

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset='utf-8' />
    <link rel="icon"
        href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='44' height='44'%3E%3Crect x='0' y='0' rx='6' ry='6' width='44' height='44' style='fill:%233c3c3b' transform='rotate(0 14 20)'/%3E%3Cg transform='rotate(45 26 23)'%3E%3Crect x='4' y='15' rx='2' ry='2' width='4' height='20' style='fill:%2325a843' /%3E%3Crect x='12' y='7.5' rx='2' ry='2' width='4' height='35' style='fill:%23ffd103'/%3E%3Crect x='20' y='0' rx='2' ry='2' width='4' height='50' style='fill:%23f28d22' /%3E%3Crect x='28' y='7.5' rx='2' ry='2' width='4' height='35' style='fill:%23e9493e'/%3E%3Ccircle cx='41' cy='25' r='5' fill='white' /%3E%3C/g%3E%3C/svg%3E"
        type="image/svg+xml">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
    <title id="unitT"></title>
</head>
<STYLE>
*{box-sizing:border-box;font-family:sans-serif;font-size:12pt;margin:0;padding:0;}body{user-select:none;-webkit-user-select:none;margin:0;background:#e8e8e8;color:#4e4a4a;}#dateV{opacity:0;top:10px;writing-mode:vertical-lr;position:fixed;pointer-events:none;}#openSys:hover #dateV{opacity:1;}#container{display:flex;position:absolute;height:100vh;width:100vw;justify-content:center;}#inputChannel{overflow:auto;text-align:center;height:0;transition:.5s;-ms-overflow-style:none;scrollbar-width:none;}#inputChannel::-webkit-scrollbar{display:none;}#unitId{top:2%;z-index:1;display:flex;position:fixed;transition:.3s ease-out;}#allList{display:flex;transform:translate3d(0,0,0);grid-row-gap:1vh;margin:auto;padding:5px;transition:.8s ease-out;flex-direction:column;padding-bottom:40px;padding-top:40px;color:#fff;}#allList>div>:not(.bigNum){box-shadow:0 0 10px 1px #00000026;}.allExtra{grid-row-gap:.5vh!important;}#bigNumber{display:grid;gap:1vh;transition:.8s ease-out;}.bigNum{display:flex;grid-template-columns:auto auto auto auto;gap:1vh;width:-webkit-fill-available;justify-content:start;transition:.8s ease-out;}.bigNumOne{justify-content:center!important;grid-template-columns:auto!important;width:unset!important;}.bigNumWrap{width:-webkit-fill-available;display:flex;justify-items:stretch;cursor:default;padding:4.2px;border-radius:5px;width:150px;height:75px;flex-direction:column;background:#837c7c;flex-wrap:nowrap;justify-content:space-between;box-shadow:0 0 10px 1px #00000026;}.bigC{background:#009c63;}#sensorList{display:grid;gap:1vh;justify-content:center;transition:.8s ease-out;}#sliderList{display:grid;gap:1vh;min-width:288px;transition:.8s ease-out;}#sliderList .sensorset{width:inherit;height:40px;background:#837c7c;}.clickables:active,.push:active,button:active{transform:scale(.95);transition:.1s;}.slider,.npSl{-webkit-appearance:none;position:absolute;height:40px;}.slider{background:#847d7d;width:calc(100% + 44.2px);left:-24.2px;top:0;}.noI{pointer-events:none;}.npSl{width:100%;left:-.2px;position:inherit;height:40px;overflow:hidden;border-radius:5px;}.slider::-webkit-slider-thumb{-webkit-appearance:none;width:0;height:50px;cursor:pointer;box-shadow:-100vw 0 0 100vw #458fd1;border-left:20px solid #458fd1;border-right:20px solid #837c7c;}.slider::-moz-range-thumb{width:0;height:70px;cursor:pointer;box-shadow:-100vw 0 0 100vw #458fd1;border-left:20px solid #458fd1;border-right:20px solid #837c7c;}.npSl::-webkit-slider-thumb{-webkit-appearance:none;width:20px;height:42px;cursor:pointer;box-shadow:0 0 2px 0 #fff;background:#3e88cb;}.npSl::-moz-range-thumb{width:20px;height:42px;cursor:pointer;box-shadow:0 0 2px 0 #fff;background:#3e88cb;border:0;}.npH{background-image:linear-gradient(to right,red,yellow,lime,cyan,blue,magenta,red);}.npV{background-image:linear-gradient(to right,#333,white);}.npS{background-image:linear-gradient(to right,white,#333);}.slTS,.thermO{-webkit-appearance:none;position:absolute;height:40px;z-index:1;border-radius:5px;width:100%;top:0;pointer-events:none;}.slTS{mix-blend-mode:overlay;background:#8a8787;}.slTS:hover{background:transparent;}.slTS:nth-child(1)::-webkit-slider-thumb{border-left:10px solid #d25e42;border-right:10px solid #458fd1;}.slTS:nth-child(2)::-webkit-slider-thumb{border-left:10px solid #458fd1;border-right:10px solid #d25e42;}.slTS:nth-child(1)::-moz-range-thumb{border-left:10px solid #d25e42;border-right:10px solid #458fd1;}.slTS:nth-child(2)::-moz-range-thumb{border-left:10px solid #458fd1;border-right:10px solid #d25e42;}.thermO::-webkit-slider-thumb{border:4px solid #d25e42;}.thermO::-moz-range-thumb{border:4px solid #d25e42;}.slTS::-webkit-slider-thumb{width:0;height:40px;box-shadow:0 0 10px 10px #00000026;}.slTS::-moz-range-thumb{width:0;height:100vh;}.slTHU::-moz-range-thumb{cursor:pointer;appearance:none;pointer-events:all;}.slTHU::-webkit-slider-thumb{-webkit-appearance:none;background:none;cursor:pointer;appearance:none;pointer-events:all;}.thermO::-webkit-slider-thumb{width:25px;height:40px;border-radius:5px;box-shadow:0 0 10px 10px #00000026,inset 0 0 5px 2px #00000026;}.thermO::-moz-range-thumb{background:none;width:20px;height:32px;border-radius:5px;box-shadow:0 0 10px 10px #00000026,inset 0 0 5px 2px #00000026;}.slTimeSet{display:flex;align-items:center;justify-content:center;}.slTimeSetWrap{height:40px;padding:4.2px;border-radius:5px;overflow:hidden;position:relative;}.slTimeText,.sliderAmount{position:absolute;right:4.2px;bottom:0;font-weight:400;z-index:2;pointer-events:none;}.thermO{background:none;}.sensorset:not(.btnTile){background:#847d7d;}.sensorset{display:flex;justify-items:stretch;flex-direction:column;padding:4.2px;flex-wrap:nowrap;border-radius:5px;width:150px;overflow:hidden;position:relative;align-items:stretch;cursor:pointer;}.valueBig{font-size:27pt;text-align:right;}.valuesBig{overflow-wrap:anywhere;}.valWrap{background:#635d5d;border-radius:5px;text-align:end;display:flex;align-items:center;justify-content:flex-end;width:100%;}.vInputs{height:30px;width:84%;border:0;background:none;text-align:end;color:inherit;}.vInputs:focus-visible{width:inherit;}.vInputs::placeholder{opacity:1;color:#fff;}vInputs:focus::placeholder{opacity:.2;}input::-webkit-outer-spin-button,input::-webkit-inner-spin-button{-webkit-appearance:none;margin:0;}input[type=number]{-moz-appearance:textfield;}.kindInput{padding:0 2px 0 1px;}.on,.push:active{background:#3e88cb!important;}.alert{background:#d8524f!important;}.btnTile{background:#635d5d;min-height:60px;}.sensors{padding-bottom:4px;overflow-wrap:anywhere;z-index:2;pointer-events:none;}.row{display:flex;justify-content:space-between;}.odd{padding-right:1px;overflow-wrap:anywhere;}.odd:hover{overflow:visible;}.even{display:flex;word-spacing:-2px;white-space:nowrap;height:20px;align-items:center;justify-content:flex-end;}.cron{padding-bottom:1pt;text-align:end}#opener{bottom:0;z-index:2;width:100%;position:fixed}.open{background:none;display:flex;max-width:200px;align-items:center;margin:auto;padding-bottom:2vh;justify-content:space-between;}#framie{right:-280px;}.sidenav{left:-280px;}.sidenav,#framie{height:100%;width:280px;position:fixed;z-index:20;top:0;background:#111111d9;transition:.6s;overflow-y:hidden;display:flex;flex-direction:column;align-items:center;cursor:pointer;justify-content:center;color:#fff;}.menueItem{display:grid;justify-content:start;grid-template-columns:25px auto;align-items:end}.numberUnit{font-size:10px;color:#818181}#menueList div:hover{color:#444}.nc{word-break:break-all}.sideNbtn{position:absolute;bottom:2%;font-size:35px;color:#b3b3b3;}#openSys{left:20px;width:40px}#closeBtn{right:20px}#menueList{overflow:scroll;-ms-overflow-style:none;scrollbar-width:none;transition:.2s;width:max-content;max-width:280px;}#menueList::-webkit-scrollbar{display:none;}#menueList div{padding:3px;font-size:25px;}#sysInfo{background:#ffffff17;color:#fff;transition:.5s;border-radius:5px;width:200px;height:0;overflow:hidden;position:absolute;top:5px;display:flex;flex-direction:column;justify-content:space-evenly}.syspair{display:flex;justify-content:flex-start}.syspair>div{font-size:8pt!important;}.syspair div:nth-child(1){text-align:end;width:35%;padding-right:5px}.menueWrap{transition:.5s;height:185px;flex-shrink:999}.bigSpan:nth-child(1){grid-row:1 / span 2;height:100%;}.buttonUnit{display:flex;flex-direction:column;align-items:center;width:200px;}.channelItem{display:flex;flex-direction:row;}#channelList{overflow:auto;}.bar1,.bar2{width:20px;height:3px;background-color:#b3b3b3;margin:8px 0;transition:.4s;}.bar2{transform:translate(0,-11px) rotate(90deg);}.change .bar1{transform:translate(0,0) rotate(-45deg);}.change .bar2{transform:translate(0,-11px) rotate(45deg);}#addBtn{padding:15px;cursor:pointer;}.cInputs{height:30px;border-radius:5px;padding:5px;border:0;margin:5px;width:-webkit-fill-available;}button{border:0;border-radius:5px;color:black;margin:5px;padding:5px 15px;cursor:pointer;}button.remove{background:brown;color:white;}.chanBtnSelect{background:#3e88cb;color:white;}.chanBtnSelectRed{background:brown;color:white;}.channelName{font-size:10px;color:#adadad;}#checkLocal{display:flex;width:45%;bottom:70px;position:absolute;align-items:center;}#checkLocal label{padding-left:13px;}#checkLocal input{height:25px;width:25px;}#closeBtn2{left:20px;}.noChan{padding:5px;border-radius:5px;color:gray;text-align:center;white-space:pre-wrap;box-shadow:none!important;}#receiveNote{opacity:0;transition:.5s ease-in-out;height:10px;width:10px;border-radius:50%;margin-right:3px;align-self:center;background:#bbb;box-shadow:0 0 3px 1px rgb(0 0 0 / 35%);display:flex;align-items:center;}@media screen and (max-height:450px){#framie{padding-bottom:40px}#opener{height:40px}}@media screen and (max-width:799px){}@media screen and (max-width:450px){#allList{grid-row-gap:5px;min-width:unset}#opener{height:40px}#framie{padding-bottom:40px}.allExtra{grid-row-gap:2.5px!important}#bigNumber{grid-row-gap:5px}#sliderList{gap:5px 1vh}#sensorList{gap:5px}.bigNum{gap:5px}.sensors{padding-bottom:2%}}@media (prefers-color-scheme:dark){body{background:#000;color:#b3b3b3}input::placeholder,#allList{color:#b3b3b3}iframe,.slTimeSetWrap{background:#000}#opener{background:#000000a8}.bigNumWrap{background:#444}.bigC{background:#553630}.slTS{mix-blend-mode:lighten;background:#444!important}.slTS:nth-child(1)::-webkit-slider-thumb{border-left:10px solid #6d1343;border-right:10px solid #44607a}.slTS:nth-child(2)::-webkit-slider-thumb{border-left:10px solid #44607a;border-right:10px solid #6d1343}.slTS:nth-child(1)::-moz-range-thumb{border-left:10px solid #6d1343;border-right:10px solid #44607a}.slTS:nth-child(2)::-moz-range-thumb{border-left:10px solid #44607a;border-right:10px solid #6d1343}.thermO::-webkit-slider-thumb{border:4px solid #882c29}.thermO::-moz-range-thumb{border:4px solid #882c29}.slider{background:#444}.slider::-webkit-slider-thumb{box-shadow:-100vw 0 0 100vw #44607a;border-left:20px solid #44607a;border-right:20px solid #444}.slider::-moz-range-thumb{box-shadow:-100vw 0 0 100vw #44607a;border-left:20px solid #44607a;border-right:20px solid #444}.npSl::-webkit-slider-thumb{box-shadow:0 0 4px 3px grey;background:#44607a}.npSl::-moz-range-thumb{box-shadow:0 0 4px 3px grey;background:#44607a}.npS,.npH,.npV{background-color:#9b9b9b;background-blend-mode:multiply}.on,.push:active{background:#44607a!important}.alert{background:#553044!important}.valueBig{background:none}.btnTile,.valWrap{background:#333}.sensorset:not(.btnTile),#sliderList .sensorset{background:#444}}
</STYLE>

<body onload="fetchNtfy()">
    <script>
   var columnSet,fDD,cURL,bInput,navOpen,currVal,html,manNav,result,routerIP,sortMode,newAmmount,bgContent,firstRun=1,dataT=[],dataT2=[],isittime=1,tsX=0,teX=0,tsY=0,teY=0,msTs=0,msTe=0,isOpen=0,prevX=0,nTH=0,cText=";expires=Fri, 31 Dec 9999 23:59:59 GMT; path=/user;",lTime=0;async function fetchDD(){document.cookie.includes("IP=")||(mC("IP"),mC("Adapter")),document.cookie.includes("Offline=")||mC("Offline"),document.cookie.includes("Sound=")||mC("Sound"),document.cookie.includes("Background=")||mC("Background"),document.cookie.includes("bgURL=")||mC("bgURL",1),bgContent=document.cookie.slice(document.cookie.indexOf("bgURL=")+6).split(";")[0];let e=(e,t=",")=>{let n=e.slice(0,e.indexOf(";")-1).split(t);return e.slice(e.indexOf(";")+2).split(",;,").map(e=>{let s=e.split(t);return n.reduce((e,t,n)=>(e[t]=s[n],e),{})})};nTH%5==0&&(LanText=await (await fetch("/Status_Lan.live.asp",{method:"GET",credentials:"include"})).text()),nTH++;let t=window.location.href;routerIP=new URL(t).origin.replace(/^https?:\/\//,"");let n=LanText.slice(LanText.indexOf("dhcp_leases::")+14,-1);var s=(n="Name,IP,MAC,Time,x,IF,y,"+(n=(n=n.slice(0,n.indexOf("}"))).replace(/\'/g,""))).split(",");let l=Math.floor(s.length/7);for(i=0;i<l;i++)a=(i+1)*7+i,s.splice(a,0,";");let u=e(s=s.toString()),p=LanText.slice(LanText.indexOf("arp_table::")+12,-1);var v=(p="Name,IP,MAC,arp1,IF,arp3,arp4,arp5,"+(p=(p=p.slice(0,p.indexOf("}"))).replace(/\'/g,""))).split(",");let f=Math.floor(v.length/8);for(i=0;i<f;i++)a=(i+1)*8+i,v.splice(a,0,";");let $=e(v=v.toString()),h=(WiFiText=await (await fetch("/Status_Wireless.live.asp",{method:"GET",credentials:"include"})).text()).slice(WiFiText.indexOf("active_wireless::")+17,-1),E=(h=h.slice(0,h.indexOf("}"))).split("','"),I=Math.floor(E.length/21);for(i=0;i<I;i++)a=(i+1)*21+i,E.splice(a,0,";");E="MAC,1,WiFi,Uptime,RX,TX,Mode,3,4,5,Signal,6,7,8,9,10,11,12,13,14,15,;,"+(E=(E=(E=E.toString()).replace(/ day,/g,"d").replace(/ days,/g,"d")).slice(1,-1));let _=e(E);console.log(_),resultLAN=[...(result=(result=u.map(e=>({...$.find(({MAC:t})=>e.MAC==t),...e}))).map(e=>({..._.find(({MAC:t})=>e.MAC==t),...e}))).filter(e=>!e.Signal)],result=(result=_.map(e=>({...result.find(({MAC:t})=>e.MAC==t),...e}))).concat(resultLAN),document.cookie.includes("Sort=")||(document.cookie="Sort=NameUP;expires=Fri, 31 Dec 9999 23:59:59 GMT; path=/user;'"),(cookieK=document.cookie.split("; ")).forEach(e=>{e.includes("Sort")&&(sortMode=e.split("=").pop())}),result.forEach(e=>{for(let t in e)(void 0==e[t]||""==e[t])&&(e[t]="N.A.");e.hasOwnProperty("Name")||(e.Name="N.A."),e.hasOwnProperty("IP")||(e.IP="N.A.")}),result.forEach(e=>{e.Uptime?.includes("d")&&(3==e.Uptime.split("d")[1].split(":")[0].length?e.Uptime=e.Uptime.replace("  ","0"):e.Uptime=e.Uptime.replace("  ",""))}),(sortMode.includes("Signal")||sortMode.includes("Uptime"))&&(result1=[...result.filter(e=>e.Signal)],result2=[...result.filter(e=>!e.Signal)],result=result1.concat(result2)),result.sort((e,t)=>sortMode.includes("Name")?e.Name.toLowerCase()===t.Name.toLowerCase()?0:e.Name.toLowerCase()>t.Name.toLowerCase()?1:-1:sortMode.includes("Signal")?e.Signal?e.Signal-t.Signal:-1:sortMode.includes("IP")?e.IP?.split(".").pop()-t.IP?.split(".").pop():sortMode.includes("Uptime")?e.Uptime?e.Uptime?.replace(/d/g,"").split(":",2).join(".")-t.Uptime?.replace(/d/g,"").split(":",2).join("."):-1:void 0),sortMode.includes("DN")&&result.reverse(),(sortMode.includes("Signal")||sortMode.includes("Uptime"))&&(result1=[...result.filter(e=>e.Signal)],(result2=[...result.filter(e=>!e.Signal)]).sort((e,t)=>e.Name.toLowerCase()===t.Name.toLowerCase()?0:e.Name.toLowerCase()>t.Name.toLowerCase()?1:-1),result=result1.concat(result2)),result.forEach(e=>{e.Uptime?.includes("d0")&&(e.Uptime=e.Uptime.replace("d0","d"))}),html="",result.forEach(e=>{if(document.cookie.includes("Offline=1")||document.cookie.includes("Offline=0")&&e.Signal||e.arp1){if(e.Time?.includes("days")?(d=e.Time.split(" ")[0]+"d ",(r=(r=e.Time.split(" ")[2]).split(":")).pop(),lTime=d+(r=r.join(":"))):lTime=e.Time?e.Time:"N.A.",bS="",(e.WiFi&&e.Signal||!e.Signal&&e.arp1)&&(bS="online"),dataT2.forEach(t=>{t.MAC==e.MAC&&(e.Signal||e.arp1?!e.Signal&&t.Status>1&&e.arp1?bS="online":!e.Signal&&(1==t.Status||e.arp1)&&(bS="response"):bS="",e.Signal&&1==t.Status&&(bS="response"))}),html+='<div class=" sensorset sAmmount '+bS,"response"==bS&&(html+=' clickables" onclick="playSound(3000), splitOn(\''+e.IP+"'), topF()"),html+='">',html+='<div  class="sensors" id="'+e.IP+'" style="font-weight:bold;">'+e.Name+"</div>",document.cookie.includes("IP=1")&&(html+='<div class=row><div class=odd>IP:</div><div class="even select" id="IP">'+e.IP+"</div></div>"),document.cookie.includes("Adapter=1")&&(""!=bS?e.Signal?html+="<div class=row><div class=odd>Adapter:</div><div class=even>"+e.WiFi+"</div></div>":html+="<div class=row><div class=odd>Adapter:</div><div class=even>LAN</div></div>":html+="<div class=row><div class=odd>Adapter:</div><div class=even>offline</div></div>"),document.cookie.includes("Lease=1")&&(html+="<div class=row><div class=odd>Lease:</div><div class=even>"+lTime+"</div></div>"),document.cookie.includes("Uptime=1")&&(e.Uptime?html+="<div class=row><div class=odd>Up:</div><div class=even>"+(uT=0==e.Uptime.split(":")[0]?parseInt(e.Uptime.split(":",2)[1])+" minutes":e.Uptime.split(":",2).join("h")+"m")+"</div></div>":html+="<div class=row><div class=odd>Up:</div><div class=even>N.A.</div></div>"),document.cookie.includes("MAC=1")?html+='<div class=row style="align-self:center;"><div class="even select" id="MAC">'+e.MAC+"</div></div>":html+='<div class=row style="align-self:center;display:none"><div class="even select" id="MAC">'+e.MAC+"</div></div>",e.Signal){if(document.cookie.includes("RX,TX=1")){let t=Math.round(parseFloat(e.TX))+"M",n=Math.round(parseFloat(e.RX))+"M";html+="<div class=row><div class=odd>TX:"+t+"</div><div class=even>RX:"+n+"</div></div>"}html+='<div class="signal"><div class="slider" style="width: '+e.Signal/10+'%;"></div><div class="sQ">'+e.Signal/10+"%</div></div>"}else html+='<div class=signal style="opacity: 0;"></div>',document.cookie.includes("RX,TX=1")&&(html+="<div class=row><div class=odd>&nbsp;</div><div class=even>&nbsp;</div></div>");html+="</div>"}}),isittime&&(document.getElementById("sensorList").innerHTML=html,storeData(result),firstRun&&(document.cookie.includes("Sound=")||mC("Sound"),window.navigator.userAgent.match(/iPhone/i)&&(document.body.style.height="101vh"),fDD=setInterval(fetchDD,2e3),checkURL(),longPressS(),longPressN(),addEonce(),firstRun=0),document.getElementById("unitT").innerHTML=routerIP,makeMenu(),changeCss(),longPressB(),eventLS(),conText())}function makeMenu(){symUP="&#9650;&#xFE0E",symDn="&#9660;&#xFE0E",sym0="&#x2610;&#xFE0E",sym1="&#9745;&#xFE0E";let e="",t="";e+='<div class="menueItem">Show:</div>',["IP","Adapter","Lease","Uptime","MAC","RX,TX","Offline"].forEach(t=>{chkSym=document.cookie.includes(t+"=1")?sym1:sym0,e+='<div class="menueItem" onclick="mC(\''+t+'\');setTimeout(makeMenu, 500)"><div class="serverUnit" style="text-align: center;">'+chkSym+'</div><div id="Name" class="nc">'+t+"</div></div>"}),e+='<div class="menueItem">&nbsp;</div>',e+='<div class="menueItem">Sort:</div>',[{sort:["NameUP","NameDN"],name:"Name"},{sort:["SignalUP","SignalDN"],name:"Signal"},{sort:["IPUP","IPDN"],name:"IP"},{sort:["UptimeUP","UptimeDN"],name:"Uptime"}].forEach(t=>{if(document.cookie.includes(t.name+"=1")||!document.cookie.includes(t.name+"=")){for(Array of(sortSym="",t.sort))Array==sortMode&&(sortSym=Array.includes("UP")?symUP:symDn);e+='<div class="menueItem" onclick="sorT(\''+t.name+'\');setTimeout(fetchDD, 500);"><div class="serverUnit" style="text-align: center;font-size:12pt;">'+sortSym+'</div><div id="Signal" class="nc">'+t.name+"</div></div>"}}),["Sound","Background"].forEach(e=>{chkSym=document.cookie.includes(e+"=1")?sym1:sym0,t+='<div class="syspair" onclick="mC(\''+e+"');setTimeout(makeMenu, 500)\"><div>"+chkSym+"</div><div>"+e+"</div></div>","Background"==e&&(t+='<div class="syspair"><input type="text" id="bgURL" name="bgURL" placeholder="paste background URL"><div id="submitBtn" >&#10004;&#xFE0E;</div></div>',bgC="#14842a",bgContent.startsWith("#")&&(bgC=bgContent),t+='<div class="syspair"><input type="color" id="cPicker" value="'+bgC+'"><div>or pick a color</div></div>')}),document.getElementById("menueList").innerHTML=e,document.getElementById("sysInfo").innerHTML=t}function changeCss(){container=document.getElementById("container"),sBtn=document.getElementById("submitBtn"),document.cookie.includes("Background=1")?bgContent?bgContent.startsWith("#")?(container.style.backgroundImage="none",container.style.backgroundColor=bgContent,sBtn.style.color="black"):(container.style.backgroundImage="url("+bgContent+")",sBtn.style.color="green"):container.style.backgroundImage="url(https://images.pexels.com/photos/2068411/pexels-photo-2068411.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2)":document.cookie.includes("Background=0")&&(container.style.backgroundImage="none",container.style.backgroundColor="unset"),toScale("true")}function toScale(){if(y="",x="auto ",m=null,scaleItm=document.getElementById("sensorList"),tileSize=document.getElementsByClassName("sAmmount")[0],(tileAmmount=document.getElementsByClassName("sAmmount").length)>1){rowAmmount=Math.floor(tileAmmount/(colAmmount=isOpen&&"absolute"!=getComputedStyle(document.getElementById("framie")).position?Math.floor((document.body.clientWidth-framie.offsetWidth)/tileSize.offsetWidth)-1:Math.floor(document.body.clientWidth/tileSize.offsetWidth)-1)),possibleRowAmmount=Math.floor(document.getElementById("container").offsetHeight/tileSize.getBoundingClientRect().height)-1,tileSize.getBoundingClientRect().height*rowAmmount<document.getElementById("container").offsetHeight&&(tileSize.offsetWidth*colAmmount>document.body.clientWidth||colAmmount>rowAmmount)&&(colAmmount=Math.ceil(Math.sqrt(tileAmmount))),document.getElementById("framie").offsetWidth>0&&window.innerWidth<1500&&"absolute"!=getComputedStyle(document.getElementById("framie")).position&&(colAmmount=2),(colAmmount<2||document.cookie.includes("Two=1"))&&(colAmmount=2);for(let e=0;e<colAmmount;e++)y+=x;if(scaleItm.style.setProperty("grid-template-columns",y,m),document.body.clientWidth-20<scaleItm.offsetWidth&&2==colAmmount?(scaleItm.style.transform="scale("+(document.body.clientWidth-20)/scaleItm.offsetWidth+")",xTrans=(scaleItm.offsetWidth+10-scaleItm.offsetWidth*(document.body.clientWidth-20)/scaleItm.offsetWidth)/2,scaleItm.style.translate=-xTrans+"px "+-(scaleItm.offsetHeight-document.body.clientWidth/scaleItm.offsetWidth*scaleItm.offsetHeight)/2+"px"):(scaleItm.style.transform="scale(1)",document.getElementById("sensorList").style.translate="0"),tileAmmount%colAmmount!=0&&isittime){newAmmount=calcTile=colAmmount-(tileAmmount-colAmmount*Math.floor(tileAmmount/colAmmount));for(let t=1;t<=calcTile;t++)html+='<div class="sensorset extra"></div>'}document.getElementsByClassName("extra").length||(document.getElementById("sensorList").innerHTML=html)}}function addEonce(){document.addEventListener("visibilitychange",()=>{"visible"===document.visibilityState?(clearTimeout(fDD),clearTimeout(cURL),checkURL(),fetchDD(),fDD=setInterval(fetchDD,2e3)):(clearTimeout(fDD),clearTimeout(cURL))}),document.addEventListener("touchstart",e=>{msTs=Date.now(),tsX=e.changedTouches[0].screenX,tsY=e.changedTouches[0].screenY}),document.addEventListener("touchend",e=>{msTe=Date.now(),teX=e.changedTouches[0].screenX,teY=e.changedTouches[0].screenY,checkDirection()}),document.addEventListener("mousemove",e=>{manNav||navOpen||(e.clientX<10&&-280===document.getElementById("mySidenav").offsetLeft&&openNav(),e.clientX>280&&0===document.getElementById("sysInfo").offsetHeight&&closeNav())}),document.getElementById("mySidenav").addEventListener("mouseleave",e=>{manNav||closeNav()}),window.addEventListener("resize",e=>{isittime=0,clearTimeout(bInput),bInput=setTimeout(blurInput,1e3),toScale()}),document.getElementById("container").addEventListener("click",e=>{(e.target==document.getElementById("allList")||e.target==document.getElementById("container"))&&iFrClose()})}function eventLS(){let e=document.querySelectorAll(".select");e.forEach(e=>{e.addEventListener("click",e=>{isittime=0,clearTimeout(bInput),bInput=setTimeout(blurInput,1e4),e.stopPropagation()}),e.addEventListener("mouseleave",e=>{isittime=1,clearTimeout(bInput),e.stopPropagation()})});let t=document.querySelectorAll(".sAmmount");t.forEach(e=>{e.addEventListener("mouseleave",e=>{isittime=1,clearTimeout(bInput),hideMenu()}),e.addEventListener("touchstart",function(t){2==t.touches.length&&rightClick(t,e)}),e.addEventListener("touchstart",function(e){1==e.touches.length&&(isittime=1,clearTimeout(bInput),hideMenu())})}),document.getElementById("bgURL").addEventListener("click",e=>{isittime=0,clearTimeout(bInput),bInput=setTimeout(blurInput,1e4)}),document.getElementById("bgURL").addEventListener("focusout",e=>{isittime=1,clearTimeout(bInput)}),document.getElementById("submitBtn").addEventListener("click",e=>{playSound(1e3),isittime=1,clearTimeout(bInput),document.cookie="bgURL="+document.getElementById("bgURL").value+cText,fetchDD()}),document.getElementById("bgURL").addEventListener("keypress",function(e){"Enter"===e.key&&(playSound(1e3),e.preventDefault(),isittime=1,clearTimeout(bInput),document.cookie="bgURL="+document.getElementById("bgURL").value+cText,fetchDD())}),document.getElementById("cPicker").addEventListener("click",e=>{isittime=0,clearTimeout(bInput),bInput=setTimeout(blurInput,1e4)}),document.getElementById("cPicker").addEventListener("focusout",e=>{isittime=1,clearTimeout(bInput)}),document.getElementById("cPicker").addEventListener("input",e=>{document.cookie="bgURL="+document.getElementById("cPicker").value+cText,document.getElementById("container").style.backgroundImage="none",document.getElementById("container").style.backgroundColor=document.getElementById("cPicker").value})}function splitOn(e){"home"==e&&(e=routerIP),1==isOpen&&window.innerWidth<=950&&e==routerIP?iFrClose():0==isOpen||e!=prevX?iFrOpen(e):iFrClose(),setTimeout(changeCss,100),prevX=e}function iFrOpen(e){isOpen=1,new ResizeObserver(toScale).observe(framie),document.getElementById("framie").style.width="100%",document.getElementById("framie").innerHTML='<iframe src="http://'+e+'"></iframe>',closeNav()}function iFrClose(){isOpen=0,document.getElementById("framie").style.width="0",document.getElementById("framie").innerHTML=""}function longPressN(){document.getElementById("mOpen").addEventListener("long-press",function(e){window.location.href=routerIP})}function longPressS(){document.getElementById("closeBtn").addEventListener("long-press",function(e){e.preventDefault(),mC("Sound")}),document.getElementById("openSys").addEventListener("long-press",function(e){e.preventDefault(),mC("Two"),e.stopPropagation()}),document.getElementById("nOpen").addEventListener("long-press",function(e){e.preventDefault(),playSound(1e3),document.body.requestFullscreen()})}function longPressB(){let e=document.querySelectorAll(".clickables");e.forEach(e=>{e.addEventListener("long-press",function(t){t.preventDefault();let n=e.querySelector(".sensors");playSound(1e3),/Android|iPhone/i.test(navigator.userAgent)?window.location.href="http://"+n.id:window.open("http://"+n.id),setTimeout(fetchDD,600),isittime=0,iIV=setTimeout(blurInput,400)})})}function playSound(e){document.cookie.includes("Sound=0")&&950!=e||(o=(c=new AudioContext).createOscillator(),g=c.createGain(),frequency=e,o.frequency.value=frequency,o.type="sawtooth",o.connect(g),g.connect(c.destination),g.gain.setValueAtTime(.05,0),o.start(0),g.gain.exponentialRampToValueAtTime(1e-5,c.currentTime+.01),o.stop(c.currentTime+.01))}function storeData(e){dataT=e}async function checkURL(){for(Array of dataT){let e=0,t=0,n=0,s=0,l=new AbortController;setTimeout(()=>l.abort(),1e3),dataT2.find(e=>e.MAC===Array.MAC)&&dataT2.find((e,l)=>(s=l,t=Array.IP,n=Array.Name,console.log(t,"---------------------"),!0)),(!Array.WiFi||Array.Signal)&&"N.A."!=Array.IP&&(response=await fetch("http://"+Array.IP,{signal:l.signal,mode:"no-cors"}).then(t=>{console.log(n,"available"),e=1}).catch(t=>{["failed","attempting"].some(e=>t.message.toLowerCase().includes(e))?(console.log(n,"rejected"),e=2):t.message.toLowerCase().includes("aborted")&&(console.log(n,"offline"),e=3)})),Array.IP&&(t?dataT2[s]={IP:t,Status:e,MAC:Array.MAC}:dataT2.push({IP:Array.IP,Status:e,MAC:Array.MAC}))}cURL=setTimeout(checkURL,5e3)}function conText(){let e=document.querySelectorAll(".sAmmount");e.forEach(e=>{e.addEventListener("contextmenu",t=>{rightClick(t,e)})})}function hideMenu(){document.getElementById("contextMenu").style.opacity="0",document.getElementById("contextMenu").style.pointerEvents="none"}async function rightClick(e,t){e.preventDefault(),isittime=0,clearTimeout(bInput),bInput=setTimeout(blurInput,1e4),sMAC1=(sMAC1=(sMAC=(copyE=t).querySelector("#MAC")).textContent.split(":").slice(0,3)).join(":")+":00:00:00",document.getElementById("vendor").innerHTML='<iframe id="IFR" src="https://api.macvendors.com/'+sMAC1+'"></iframe>';var n=document.getElementById("contextMenu");"none"==document.getElementById("contextMenu").style.display&&(n.style.display="flex",n.style.opacity="1"),n.style.pointerEvents="all",n.style.opacity="1",n.style.left=e.pageX-90+"px",n.style.top=e.pageY+10+"px"}function blurInput(){isittime=1,hideMenu()}function openNav(e){navOpen=1,e&&(manNav=1),-280===document.getElementById("mySidenav").offsetLeft?document.getElementById("mySidenav").style.left="0":closeNav()}function closeNav(){document.getElementById("sysInfo").offsetHeight>0&&openSys(),manNav=0,navOpen=0,document.getElementById("mySidenav").style.left="-280px"}function openSys(){0===document.getElementById("sysInfo").offsetHeight?(document.getElementById("menueWrap1").style.flexShrink="0",document.getElementById("sysInfo").style.height="105px"):(document.getElementById("sysInfo").style.height="0",document.getElementById("menueWrap1").style.flexShrink="999")}function checkDirection(){touchtime=msTe-msTs,touchDistX=teX-tsX,touchDistY=teY-tsY,teX<tsX&&navOpen&&Math.abs(touchDistX)>40&&30>Math.abs(touchDistY)&&touchtime<250&&closeNav(),teX>tsX&&!navOpen&&Math.abs(touchDistX)>40&&30>Math.abs(touchDistY)&&touchtime<250&&openNav()}function topF(){document.body.scrollTop=0,document.documentElement.scrollTop=0}function sorT(e){sortMode.includes("DN")||!sortMode.includes(e)?e+="UP":e+="DN",playSound(900),document.cookie="Sort="+e+cText}function mC(e,t){1==(document.cookie.match("(^|;)\\s*"+e+"\\s*=\\s*([^;]+)")?.pop()||"")?(playSound(500),document.cookie=e+"=0;expires=Fri, 31 Dec 9999 23:59:59 GMT; path=/user;"):t?(playSound(900),document.cookie=e+"="+cText):(playSound(900),document.cookie=e+"=1"+cText),"Sound"==e&&document.cookie.includes("Sound=1")&&playSound(950)}!function(e,t){"use strict";var n=null,s="PointerEvent"in e||e.navigator&&"msPointerEnabled"in e.navigator,l="ontouchstart"in e||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0,u=0,p=0;function v(e){var n;f(),e=void 0!==(n=e).changedTouches?n.changedTouches[0]:n,this.dispatchEvent(new CustomEvent("long-press",{bubbles:!0,cancelable:!0,detail:{clientX:e.clientX,clientY:e.clientY,offsetX:e.offsetX,offsetY:e.offsetY,pageX:e.pageX,pageY:e.pageY},clientX:e.clientX,clientY:e.clientY,offsetX:e.offsetX,offsetY:e.offsetY,pageX:e.pageX,pageY:e.pageY,screenX:e.screenX,screenY:e.screenY}))||t.addEventListener("click",function e(n){var s;t.removeEventListener("click",e,!0),(s=n).stopImmediatePropagation(),s.preventDefault(),s.stopPropagation()},!0)}function f(t){var s;(s=n)&&(e.cancelAnimationFrame?e.cancelAnimationFrame(s.value):e.webkitCancelAnimationFrame?e.webkitCancelAnimationFrame(s.value):e.webkitCancelRequestAnimationFrame?e.webkitCancelRequestAnimationFrame(s.value):e.mozCancelRequestAnimationFrame?e.mozCancelRequestAnimationFrame(s.value):e.oCancelRequestAnimationFrame?e.oCancelRequestAnimationFrame(s.value):e.msCancelRequestAnimationFrame?e.msCancelRequestAnimationFrame(s.value):clearTimeout(s)),n=null}"function"!=typeof e.CustomEvent&&(e.CustomEvent=function(e,n){n=n||{bubbles:!1,cancelable:!1,detail:void 0};var s=t.createEvent("CustomEvent");return s.initCustomEvent(e,n.bubbles,n.cancelable,n.detail),s},e.CustomEvent.prototype=e.Event.prototype),e.requestAnimFrame=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(t){e.setTimeout(t,1e3/60)},t.addEventListener(s?"pointerup":l?"touchend":"mouseup",f,!0),t.addEventListener(s?"pointerleave":l?"touchleave":"mouseleave",f,!0),t.addEventListener(s?"pointermove":l?"touchmove":"mousemove",function(e){var t=Math.abs(u-e.clientX),n=Math.abs(p-e.clientY);(t>=10||n>=10)&&f()},!0),t.addEventListener("wheel",f,!0),t.addEventListener("scroll",f,!0),t.addEventListener("contextmenu",f,!0),t.addEventListener(s?"pointerdown":l?"touchstart":"mousedown",function(s){var l,$,h;u=s.clientX,p=s.clientY,f(l=s),h=parseInt(function(e,n,s){for(;e&&e!==t.documentElement;){var l=e.getAttribute(n);if(l)return l;e=e.parentNode}return"600"}($=l.target,"data-long-press-delay","600"),10),n=function(t,n){if(!(e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame&&e.mozCancelRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame))return e.setTimeout(t,n);var s=(new Date).getTime(),l={},u=function(){(new Date).getTime()-s>=n?t.call():l.value=requestAnimFrame(u)};return l.value=requestAnimFrame(u),l}(v.bind($,l),h)},!0)}(window,document);

    </script>

<div id="container">
    <div id="framie">
        <div id="channelList"></div>
        <div id="addBtn" onclick="addChan(this)">
            <div class="bars bar1"></div>
            <div class="bars bar2"></div>
        </div>
        <div id="inputChannel" style="height:0">
            <input type="text" id="channelNa" class="cInputs" name="channelNa" placeholder="Name"><br>
            <input type="text" id="channelNr" class="cInputs" name="channelNr" placeholder="Channel"
                onkeydown="return /[\w_-]/i.test(event.key)"><br>
            <input type="text" id="channelSrv" class="cInputs" name="channelNa" placeholder="Server (ntfy.envs.net)"
                onkeydown="return /[\w.]/i.test(event.key)"><br>
            <input type="password" id="passWord" class="cInputs" name="passWord" placeholder="Password"
                maxlength="16"><br>
            <button onclick="submitChan()">Submit</button>
        </div>
        <div id="checkLocal">
            <input type="checkbox" id="localCheck" name="localInstance" value="local" onclick="checkChange()">
            <label for="localInstance"> autoswitch to local instance (WIP)</label><br>
        </div>
        <div class="sideNbtn" id="closeBtn2" onclick="openChanSelection()">&times;&#xFE0E;</div>
    </div>
    <div id="mySidenav" class="sidenav">
        <div id="sysInfo">no info found...</div>
        <div class="menueWrap" id="menueWrap1"></div>
        <div id="menueList"></div>
        <div class="menueWrap" id="menueWrap2"></div>
        <div class="sideNbtn" id="openSys" onclick="openSys(event)">
            <div id="dateV">e2n_20250128/1N</div>&#8505;&#xFE0E;
        </div>
        <div class="sideNbtn" id="closeBtn" onclick="closeNav()">&times;&#xFE0E;</div>
    </div>
    <div id="unitId" style="cursor: pointer;" onclick="launchFs(document.documentElement)"><span id="receiveNote">
            <div id="home"></div>
        </span><span id="unitInf">&nbsp;</span></div>
    <div id="allList">
        <div id="bigNumber"></div>
        <div id="sliderList"></div>
        <div id="sensorList"></div>
    </div>
    <div id="opener">
        <div class="open">
            <span id="nOpen" style="font-size:30px;cursor:pointer;background:none;"
                onclick="openNav(event)">&#9776;&#xFE0E;</span>
            <span id="mOpen" style="font-size:30px;cursor:pointer;background:none;"
                onclick="openChanSelection();generateChan()">&#8962;&#xFE0E;</span>
        </div>
    </div>
</div>
</body>

</html>